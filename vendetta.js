"use strict";(()=>{var Z=Object.defineProperty;var M=(e,t)=>{for(var o in t)Z(e,o,{get:t[o],enumerable:!0})};var V={};M(V,{after:()=>h,before:()=>ee,instead:()=>te,unpatchAll:()=>N});var I=["a","b","i"],m=new Map;function G(e,t,o,s,l){let i=m.get(t)?.[e];if(!i)return l?Reflect.construct(t[e],o,s):t[e].apply(s,o);for(let n of i.b.values()){let d=n.call(s,o);Array.isArray(d)&&(o=d)}let a=(...n)=>l?Reflect.construct(i.o,n,s):i.o.apply(s,n);for(let n of i.i.values()){let d=a;a=(...u)=>n.call(s,u,d)}let r=a(...o);for(let n of i.a.values())r=n.call(s,o,r)??r;return r}function P(e,t,o,s){let l=m.get(e),i=l?.[t];return i?.[s].has(o)?(i[s].delete(o),I.every(a=>i[a].size===0)&&(Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0})||(e[t]=i.o),delete l[t]),Object.keys(l).length==0&&m.delete(e),!0):!1}function N(){for(let[e,t]of m.entries())for(let o in t)for(let s of I)for(let l of t[o]?.[s].keys()??[])P(e,o,l,s)}var w=e=>(t,o,s,l=!1)=>{if(typeof o[t]!="function")throw new Error(`${t} is not a function in ${o.constructor.name}`);m.has(o)||m.set(o,{});let i=m.get(o);if(!i[t]){let n=o[t];i[t]={o:n,b:new Map,i:new Map,a:new Map};let d=(f,y,b)=>{let Y=G(t,o,y,f,b);return l&&r(),Y},u=new Proxy(n,{apply:(f,y,b)=>d(y,b,!1),construct:(f,y)=>d(n,y,!0),get:(f,y,b)=>y=="toString"?n.toString.bind(n):Reflect.get(f,y,b)});Reflect.defineProperty(o,t,{value:u,configurable:!0,writable:!0})||(o[t]=u)}let a=Symbol(),r=()=>P(o,t,a,e);return i[t][e].set(a,s),r};var ee=w("b"),te=w("i"),h=w("a");var C={...V};var R={};M(R,{filterModules:()=>k,find:()=>O,findAll:()=>B,findByDisplayName:()=>v,findByDisplayNameAll:()=>re,findByProps:()=>p,findByPropsAll:()=>oe,modules:()=>T});var S;function W(e){Object.defineProperty(window.modules,e,{value:window.modules[e],enumerable:!1,configurable:!0,writable:!0})}for(let e in window.modules){let t=Number(e),o=window.modules[t].publicModule.exports;if(!S&&o&&o.isMoment&&(S=o),!o||o===window||o.proxygone===null){W(t);continue}}var k=(e,t=!1)=>o=>{let s=[],l=S?.locale();for(let i in e){let a=Number(i),r=e[a].publicModule.exports;if(!e[a].isInitialized)try{__r(a),l&&l!==S.locale()&&S.locale(l)}catch{}if(!r){W(a);continue}try{if(r.default&&r.__esModule&&o(r.default)){if(t)return r.default;s.push(r.default)}if(o(r)){if(t)return r;s.push(r)}}catch(n){console.error(`Failed to getModule... ${n.stack||n.toString()}`)}}if(!t)return s},T=window.modules,O=k(T,!0),B=k(T),q=e=>t=>e.every(o=>t[o]!==void 0),J=(e,t)=>t?o=>o.name===e:o=>o?.default?.name===e,p=(...e)=>O(q(e)),oe=(...e)=>B(q(e)),v=(e,t=!0)=>O(J(e,t)),re=(e,t=!0)=>B(J(e,t));var ne=p("setLogFn").default,ie=new ne("Vendetta"),j=ie;var A={};M(A,{Constants:()=>se,React:()=>c,ReactNative:()=>x,channels:()=>ae,i18n:()=>F});var se=p("API_HOST"),ae=p("getVoiceChannelId"),F=p("Messages"),c=p("createElement"),x=p("Text","Image");function _(e,t,{walkable:o=[],ignore:s=[],maxDepth:l=100}={}){let i=0;function a(r,n,{walkable:d=[],ignore:u=[]}={}){if(i+=1,!(i>l)){if(typeof n=="string"){if(r.hasOwnProperty(n))return r[n]}else if(n(r))return r;if(!!r){if(Array.isArray(r))for(let g of r){let f=a(g,n,{walkable:d,ignore:u});if(f)return f}else if(typeof r=="object"){for(let g of Object.keys(r))if(!(d!=null&&d.includes(g))&&!u.includes(g))try{let f=a(r[g],n,{walkable:d,ignore:u});if(f)return f}catch{}}}}}return a(e,t,{walkable:o,ignore:s})}function $(e,t){return _(e,t,{walkable:["props","children","child","sibling"]})}var{FormRow:le,FormText:ce}=p("FormSection");function D({label:e,version:t}){return c.createElement(le,{label:e,trailing:()=>c.createElement(ce,null,t)})}var{FormRow:K,FormSection:Q,FormText:Le}=p("FormSection"),E=window.HermesInternal.getRuntimeProperties(),L=x.Platform.constants.reactNativeVersion;function H(){let e=[{label:"Discord",version:x.NativeModules.InfoDictionaryManager.Version},{label:"React",version:c.version},{label:"React Native",version:`${L.major||0}.${L.minor||0}.${L.patch||0}`},{label:"Hermes",version:`${E["OSS Release Version"]} ${E.Build}`},{label:"Bytecode",version:E["Bytecode Version"]}];return c.createElement(c.Fragment,null,c.createElement(Q,{title:"Actions",android_noDivider:!0},c.createElement(K,{label:"Reload Discord",trailing:K.Arrow,onPress:()=>x.NativeModules.BundleUpdaterManager.reload()})),c.createElement(Q,{title:"Versions"},e.map(t=>c.createElement(D,{label:t.label,version:t.version}))))}var{FormRow:X,FormSection:pe}=p("FormSection");function U({navigation:e}){return c.createElement(pe,{key:"Vendetta",title:"Vendetta"},c.createElement(X,{label:"Settings",trailing:X.Arrow,onPress:()=>e.push("VendettaSettings")}))}var de=v("getScreens",!1),fe=v("UserSettingsOverviewWrapper",!1);function z(){let e=h("default",de,(o,s)=>({...s,VendettaSettings:{title:"Vendetta Settings",render:H}})),t=h("default",fe,(o,s)=>{t();let l=$(s.props.children,i=>i.type&&i.type.name==="UserSettingsOverview");h("renderSupportAndAcknowledgements",l.type.prototype,(i,{props:{children:a}})=>{let r=a.findIndex(n=>n?.type?.name==="UploadLogsButton");r!==-1&&a.splice(r,1)}),h("render",l.type.prototype,(i,{props:{children:a}})=>{let r=[F.Messages.BILLING_SETTINGS,F.Messages.PREMIUM_SETTINGS],n=a.findIndex(d=>r.includes(d.props.title));a.splice(n===-1?4:n,0,c.createElement(U,{navigation:l.props.navigation}))})})}console.log("Hello from Vendetta!");try{z(),window.vendetta={patcher:C,metro:{...R,common:A},logger:j},j.log("Vendetta is ready!")}catch(e){alert(`Vendetta failed to initialize...
${e.stack||e.toString()}`)}})();
//# sourceURL=Vendetta