"use strict";(()=>{var oe=Object.defineProperty;var I=(e,o)=>{for(var t in o)oe(e,t,{get:o[t],enumerable:!0})};var O={};I(O,{after:()=>h,before:()=>te,instead:()=>re,unpatchAll:()=>C});var V=["a","b","i"],m=new Map;function N(e,o,t,s,l){let i=m.get(o)?.[e];if(!i)return l?Reflect.construct(o[e],t,s):o[e].apply(s,t);for(let n of i.b.values()){let p=n.call(s,t);Array.isArray(p)&&(t=p)}let a=(...n)=>l?Reflect.construct(i.o,n,s):i.o.apply(s,n);for(let n of i.i.values()){let p=a;a=(...u)=>n.call(s,u,p)}let r=a(...t);for(let n of i.a.values())r=n.call(s,t,r)??r;return r}function k(e,o,t,s){let l=m.get(e),i=l?.[o];return i?.[s].has(t)?(i[s].delete(t),V.every(a=>i[a].size===0)&&(Reflect.defineProperty(e,o,{value:i.o,writable:!0,configurable:!0})||(e[o]=i.o),delete l[o]),Object.keys(l).length==0&&m.delete(e),!0):!1}function C(){for(let[e,o]of m.entries())for(let t in o)for(let s of V)for(let l of o[t]?.[s].keys()??[])k(e,t,l,s)}var F=e=>(o,t,s,l=!1)=>{if(typeof t[o]!="function")throw new Error(`${o} is not a function in ${t.constructor.name}`);m.has(t)||m.set(t,{});let i=m.get(t);if(!i[o]){let n=t[o];i[o]={o:n,b:new Map,i:new Map,a:new Map};let p=(d,y,S)=>{let ee=N(o,t,y,d,S);return l&&r(),ee},u=new Proxy(n,{apply:(d,y,S)=>p(y,S,!1),construct:(d,y)=>p(n,y,!0),get:(d,y,S)=>y=="toString"?n.toString.bind(n):Reflect.get(d,y,S)});Reflect.defineProperty(t,o,{value:u,configurable:!0,writable:!0})||(t[o]=u)}let a=Symbol(),r=()=>k(t,o,a,e);return i[o][e].set(a,s),r};var te=F("b"),re=F("i"),h=F("a");var W={...O};var j={};I(j,{filterModules:()=>P,find:()=>B,findAll:()=>R,findByDisplayName:()=>v,findByDisplayNameAll:()=>ie,findByProps:()=>f,findByPropsAll:()=>ne,modules:()=>T});var x;function q(e){Object.defineProperty(window.modules,e,{value:window.modules[e],enumerable:!1,configurable:!0,writable:!0})}for(let e in window.modules){let o=Number(e),t=window.modules[o].publicModule.exports;if(!x&&t&&t.isMoment&&(x=t),!t||t===window||t.proxygone===null){q(o);continue}}var P=(e,o=!1)=>t=>{let s=[],l=x?.locale();for(let i in e){let a=Number(i),r=e[a].publicModule.exports;if(!e[a].isInitialized)try{__r(a),l&&l!==x.locale()&&x.locale(l)}catch{}if(!r){q(a);continue}try{if(r.default&&r.__esModule&&t(r.default)){if(o)return r.default;s.push(r.default)}if(t(r)){if(o)return r;s.push(r)}}catch(n){console.error(`Failed to getModule... ${n.stack||n.toString()}`)}}if(!o)return s},T=window.modules,B=P(T,!0),R=P(T),J=e=>o=>e.every(t=>o[t]!==void 0),K=(e,o)=>o?t=>t.name===e:t=>t?.default?.name===e,f=(...e)=>B(J(e)),ne=(...e)=>R(J(e)),v=(e,o=!0)=>B(K(e,o)),ie=(e,o=!0)=>R(K(e,o));var se=f("setLogFn").default,ae=new se("Vendetta"),A=ae;var _={};I(_,{Constants:()=>le,React:()=>c,ReactNative:()=>w,channels:()=>ce,i18n:()=>M});var le=f("API_HOST"),ce=f("getVoiceChannelId"),M=f("Messages"),c=f("createElement"),w=f("Text","Image");function $(e,o,{walkable:t=[],ignore:s=[],maxDepth:l=100}={}){let i=0;function a(r,n,{walkable:p=[],ignore:u=[]}={}){if(i+=1,!(i>l)){if(typeof n=="string"){if(r.hasOwnProperty(n))return r[n]}else if(n(r))return r;if(!!r){if(Array.isArray(r))for(let g of r){let d=a(g,n,{walkable:p,ignore:u});if(d)return d}else if(typeof r=="object"){for(let g of Object.keys(r))if(!(p!=null&&p.includes(g))&&!u.includes(g))try{let d=a(r[g],n,{walkable:p,ignore:u});if(d)return d}catch{}}}}}return a(e,o,{walkable:t,ignore:s})}function L(e,o){return $(e,o,{walkable:["props","children","child","sibling"]})}var b=f("FormSection");var{FormRow:pe,FormText:de}=b;function D({label:e,version:o}){return c.createElement(pe,{label:e,trailing:()=>c.createElement(de,null,o)})}var{FormRow:Q,FormSection:X}=b,E=window.HermesInternal.getRuntimeProperties(),H=w.Platform.constants.reactNativeVersion;function U(){let e=[{label:"Discord",version:w.NativeModules.InfoDictionaryManager.Version},{label:"React",version:c.version},{label:"React Native",version:`${H.major||0}.${H.minor||0}.${H.patch||0}`},{label:"Hermes",version:`${E["OSS Release Version"]} ${E.Build}`},{label:"Bytecode",version:E["Bytecode Version"]}];return c.createElement(c.Fragment,null,c.createElement(X,{title:"Actions",android_noDivider:!0},c.createElement(Q,{label:"Reload Discord",trailing:Q.Arrow,onPress:()=>w.NativeModules.BundleUpdaterManager.reload()})),c.createElement(X,{title:"Versions"},e.map(o=>c.createElement(D,{label:o.label,version:o.version}))))}var{FormRow:Y,FormSection:fe}=b;function z({navigation:e}){return c.createElement(fe,{key:"Vendetta",title:"Vendetta"},c.createElement(Y,{label:"Settings",trailing:Y.Arrow,onPress:()=>e.push("VendettaSettings")}))}var me=v("getScreens",!1),ue=v("UserSettingsOverviewWrapper",!1);function G(){let e=h("default",me,(t,s)=>({...s,VendettaSettings:{title:"Vendetta Settings",render:U}})),o=h("default",ue,(t,s)=>{o();let l=L(s.props.children,i=>i.type&&i.type.name==="UserSettingsOverview");h("renderSupportAndAcknowledgements",l.type.prototype,(i,{props:{children:a}})=>{let r=a.findIndex(n=>n?.type?.name==="UploadLogsButton");r!==-1&&a.splice(r,1)}),h("render",l.type.prototype,(i,{props:{children:a}})=>{let r=[M.Messages.BILLING_SETTINGS,M.Messages.PREMIUM_SETTINGS],n=a.findIndex(p=>r.includes(p.props.title));a.splice(n===-1?4:n,0,c.createElement(z,{navigation:l.props.navigation}))})})}console.log("Hello from Vendetta!");var Z=!1;try{G(),window.vendetta={patcher:W,metro:{...j,common:_},logger:A}}catch(e){Z=!0,alert(`Vendetta failed to initialize...
${e.stack||e.toString()}`)}Z||A.log("Vendetta is ready!");})();
//# sourceURL=Vendetta